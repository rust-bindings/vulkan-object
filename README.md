# vulkan-object 1.4.341

Rust bindings for [vulkan-object](https://github.com/KhronosGroup/vulkan-object), providing typed access to Vulkan API metadata.

## API

- `load_vulkan_object() -> VulkanObject` - Load the embedded Vulkan metadata (recommended).
- `load_vulkan_object_from_json_str(&str) -> Result<VulkanObject>` - Parse from JSON string.

## Update procedure

To update to a new Vulkan version:

1. Update `vulkan-object` version in `requirements.txt`
2. Regenerate the schema files:
   ```sh
   python -m venv venv
   source venv/bin/activate  # or venv\Scripts\activate on Windows
   pip install -r requirements.txt
   python generate.py
   ```
3. Update the crate version in `Cargo.toml` to match.
4. Build to regenerate Rust types:
   ```sh
   cargo build
   ```

## Potential future adjustments

`generate.py` extracts data from the Python `vulkan_object` package into `src/vk.json` and `src/vulkan_object.rs`:

- The JSON file is generated by simply serializing the loaded `VulkanObject`.
- The Rust file is generated using a handwritten parser that is based on the current state of the `vulkan_object` package.

This should be relatively future-safe.
However, the parser might need adjustments in the future if some aspects of the `vulkan_object` package change in an incompatible way.
